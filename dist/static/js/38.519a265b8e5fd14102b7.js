webpackJsonp([38],{"6R89":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),c=a.n(i),n=a("Dd8w"),s=a.n(n),o=a("fqE/"),r=a("PNIw"),l=a("0Mti"),d=a("NYxO"),u=a("Fd2+"),h={name:"shopcar",components:{commonHeader:o.a,Toast:u.d,Dialog:u.a},data:function(){return{tittle:"购物车",routerLeft:"/day",loading:!1,finished:!1,imgFileUrl:l.c,tabList:[],radio:!1,pageNumber:1,pageSize:3,checkedarr:[],checkedAll:!1,select:"",showFriend:!1,username:"",tel:"",item:""}},mounted:function(){this.$store.commit({type:"incrment",num:1})},computed:s()({},Object(d.b)(["number"]),Object(d.d)({number:function(e){return e.home.number}})),methods:s()({recommended:function(){},order:function(e){this.$router.push({path:"/orderinfodetail",params:{orderid:e}}),localStorage.setItem("carProductCd",e)},info:function(){this.$router.push("/orderinfo")},onClose:function(e,t){switch(e){case"cell":case"outside":t.close()}},toggleCheckedAll:function(e){this.checkedAll?(this.tabList.forEach(function(e){e.index=!0}),this.checkedAll=!0,this.checkedarr=this.tabList):(this.tabList.forEach(function(e){e.index=!1}),this.checkedAll=!1,this.checkedarr=[])},checked:function(e){if(e){var t=[];this.tabList.forEach(function(e){if(!0===e.index)return t.push(e.carproductcd)}),this.checkedarr=t,this.tabList.length===this.checkedarr.length&&(this.checkedAll=!0)}else{this.checkedAll=!1;var a=[];this.tabList.forEach(function(e){if(!0===e.index)return a.push(e.carproductcd)}),this.checkedarr=a,e=!1}}},Object(d.c)({incrment:"incrment"}),{onLoad:function(){var e=this;setTimeout(function(){e.getList()},500)},friend:function(e){console.log(e,"ITEM"),this.showFriend=!0,this.item=e},Vehiclecontrast:function(e){this.checkedarr.join(",");this.$router.push({name:"Vehiclecontrast",query:{name:this.checkedarr.join(","),classNm:e}})},getList:function(){var e=this,t={pageNumber:this.pageNumber,pageSize:this.pageSize};r.E(t).then(function(t){for(var a=0;a<t.data.page.list.length;a++)e.tabList.push(t.data.page.list[a]);e.pageNumber=Number(e.pageNumber)+Number(1),e.loading=!1,!0===t.data.page.lastPage&&(e.finished=!0,console.log(e.tabList,"TABLIST"),e.pageNumber=Number(e.pageNumber)+Number(1),e.loading=!1,1==t.data.page.lastPage&&(e.finished=!0,console.log(e.tabList,"TABLIST"),e.pageNumber=Number(e.pageNumber)+Number(1),e.loading=!1,1==t.data.page.lastPage&&(e.finished=!0,e.pageNumber=Number(e.pageNumber)+Number(1),e.loading=!1,!0===t.data.page.lastPage&&(e.finished=!0))),console.log(e.tabList,"TABLIST"),e.pageNumber=Number(e.pageNumber)+Number(1),e.loading=!1,1==t.data.page.lastPage&&(e.finished=!0))}).catch(function(e){console.log(e)})},deletd:function(e){u.a.confirm({title:"确定删除吗"}).then(function(){var t={idStr:e};r.k(t).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})})},beforeClose:function(e,t){if("confirm"===e){if(this.recommended(),!this.username||!this.tel)return Object(u.d)("请输入姓名或手机号"),void t(!1);if(t(),!/^1[34578]\d{9}$/.test(this.tel))return Object(u.d)("手机号格式错误"),void t(!1);t();var a={ofuser:"13811111111",ofuserName:"张三",type:"1"};console.log("data=="+c()(a)),r.F(a).then(function(e){"200"===e.data.code?(t(),Object(u.d)("好友推荐成功")):(t(),Object(u.d)(e.data.msg))}).catch(function(e){console.log(e)})}else"cancel"===e&&(this.username="",this.tel="",t())}})},f={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shopcar-box"},[i("common-header",{attrs:{tittle:e.tittle,showleft:!0,showright:!0,routerLeft:e.routerLeft}}),e._v(" "),i("div",{staticClass:"shopcar-content"},[i("li",{staticClass:"checkall"},[i("van-checkbox",{attrs:{"checked-color":"#FF7414"},on:{click:e.toggleCheckedAll},model:{value:e.checkedAll,callback:function(t){e.checkedAll=t},expression:"checkedAll"}},[e._v("全选")])],1),e._v(" "),i("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了",offset:20},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.tabList,function(t,c){return i("van-cell",{key:c},[i("div",{staticClass:"shopcar-list"},[i("van-swipe-cell",{attrs:{"right-width":60,"on-close":e.onClose}},[i("div",{staticClass:"content-tab"},[i("li",[i("span",[i("van-checkbox",{ref:"checkboxes",refInFor:!0,attrs:{"checked-color":"#FF7414"},on:{click:function(a){e.checked(t.index)}},model:{value:t.index,callback:function(a){e.$set(t,"index",a)},expression:"item.index"}},[e._v(e._s(t.partnerNm))])],1),e._v(" "),i("span",[e._v("库存充足")])]),e._v(" "),i("li",[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.imgFileUrl+t.url,alt:"图片未找到"}})]),e._v(" "),i("div",{staticClass:"right"},[i("p",[1==t.carProductKind?i("span",[e._v(e._s(t.classNm)+" || 电动")]):e._e(),e._v(" "),2==t.carProductKind?i("span",[e._v(e._s(t.classNm)+" || 燃油")]):e._e()]),e._v(" "),1==t.carProductKind?i("p",[e._v(e._s(t.carProductStyle)+"/"+e._s(t.carProductColour)+"/电动")]):e._e(),e._v(" "),2==t.carProductKind?i("p",[e._v(e._s(t.carProductStyle)+"/"+e._s(t.carProductColour)+"/燃油 ")]):e._e(),e._v(" "),i("p",[i("span",[e._v("容量："+e._s(t.carPowerBatkwh)+"kWh")]),i("span",[e._v("续航："+e._s(t.carPowerMaxKm)+"km")])]),e._v(" "),i("p",[i("span",[e._v("订单价格："),i("b",[e._v(e._s(t.carProductPrice)+"万")])])])])]),e._v(" "),i("li",[i("button",{staticClass:"btn",on:{click:function(a){e.order(t.carproductcd)}}},[e._v("下单支付")]),e._v(" "),i("button",{staticClass:"btn",on:{click:function(a){e.friend(t)}}},[e._v("好友推荐")]),e._v(" "),i("button",{staticClass:"btn",on:{click:e.info}},[e._v("查看详情")])])]),e._v(" "),i("van-button",{attrs:{slot:"right",square:"",type:"danger",text:"删除"},on:{click:function(a){e.deletd(t.id)}},slot:"right"})],1),e._v(" "),0==e.tabList.length?i("div",{staticClass:"nullTip"},[i("img",{attrs:{src:a("Axqe")}}),e._v(" "),i("p",[e._v("暂无数据")])]):e._e()],1),e._v(" "),i("div",{staticClass:"shopcar-fixed"},[i("button",{on:{click:function(a){e.Vehiclecontrast(t.classNm)}}},[i("span",[e._v("车辆对比已选")]),e._v(" "),i("span",[e._v(e._s(e.checkedarr.length))])])])])})),e._v(" "),i("van-dialog",{attrs:{"show-cancel-button":"","before-close":e.beforeClose,"confirm-button-text":"发送"},model:{value:e.showFriend,callback:function(t){e.showFriend=t},expression:"showFriend"}},[i("van-field",{staticClass:"dialog-inp",staticStyle:{height:"1.2rem","line-height":"1.2rem"},attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),e._v(" "),i("van-field",{staticClass:"dialog-inp",staticStyle:{height:"1rem","line-height":"1rem"},attrs:{type:"phone",label:"手机号",placeholder:"请输入手机号"},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}})],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(h,f,!1,function(e){a("GS01")},"data-v-52189cc2",null);t.default=m.exports},GS01:function(e,t){}});
//# sourceMappingURL=38.519a265b8e5fd14102b7.js.map