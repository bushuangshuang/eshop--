webpackJsonp([22],{Lge7:function(e,o){},YzOI:function(e,o){},gjGO:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=t("PNIw"),i=t("Fd2+"),s=(t("NYxO"),t("fqE/")),c={name:"login",data:function(){return{tittle:"登录",phone:"",verifyCode:"",recommendPhone:"",verifyText:"获取验证码",codeDisabled:!1,countdown:60,timer:null,checked:!1,phoneerr:"",isphoneshow:!1}},components:{Dialog:i.a,commonHeader:s.a},methods:{isphone:function(e){console.log(e);!1===/^[1][3,4,5,6,7,8][0-9]{9}$/.test(e)?(this.phoneerr="请输入正确的手机号",this.isphoneshow=!0):this.isphoneshow=!1},back:function(){this.$router.push("/home")},login:function(){var e=this,o="";if(void 0!=this.phone&&null!=this.phone&&""!=this.phone||(o+="手机号不能为空  "),void 0!=this.verifyCode&&null!=this.verifyCode&&""!=this.verifyCode||(o+="验证码不能为空"),void 0==o||null==o||""==o)if(0!=this.checked){var t={phone:this.phone,verifyCode:this.verifyCode,recommendPhone:this.recommendPhone};n.c(t).then(function(o){console.log(o.data),"200"===o.data.code?(localStorage.setItem("username",o.data.list.username),localStorage.setItem("realName",o.data.list.realName),localStorage.setItem("isAuth",o.data.list.isAuth),localStorage.setItem("phone",e.phone),e.$router.goBack()):Object(i.d)(o.data.msg)}).catch(function(e){console.log(e)})}else Object(i.d)("请先阅读并同意《用户使用协议》及《隐私权条款》");else Object(i.d)(o)},getCode:function(){var e=this;if(void 0!==this.phone&&null!==this.phone&&""!==this.phone){if(!1!==/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.phone)){if(this.timer||(this.timer=setInterval(function(){e.countdown>0&&e.countdown<=60&&(e.countdown--,0!==e.countdown?(e.verifyText="重新发送("+e.countdown+")",e.codeDisabled=!0):(clearInterval(e.timer),e.verifyText="获取验证码",e.countdown=60,e.timer=null,e.codeDisabled=!1))},1e3)),1!=this.codeDisabled){var o={phone:this.phone};n.f(o).then(function(e){console.log(e.data),200==e.data.code?Object(i.d)("短信发送成功"):Object(i.d)(e.data.msg)}).catch(function(e){Object(i.d)("发送失败，请重试或联系管理员！")})}}else Object(i.d)("请输入正确的手机号")}else Object(i.d)("手机号码不能为空")},showUseTip:function(e){var o="";"1"===e?o="用户使用协议内容":"2"===e&&(o="隐私权条款内容"),i.a.alert({message:o}).then(function(){})}}},a={render:function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"login-box"},[t("common-header",{attrs:{tittle:e.tittle,showleft:!0,showright:!1}}),e._v(" "),t("div",{staticClass:"login-content"},[t("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号"},on:{blur:function(o){e.isphone(e.phone)}},model:{value:e.phone,callback:function(o){e.phone=o},expression:"phone"}}),e._v(" "),this.isphoneshow?t("span",{staticClass:"span"},[e._v(e._s(this.phoneerr))]):e._e(),e._v(" "),t("van-field",{attrs:{center:"",clearable:"",label:"验证码",placeholder:"请输入短信验证码"},model:{value:e.verifyCode,callback:function(o){e.verifyCode=o},expression:"verifyCode"}},[t("van-button",{style:0==e.codeDisabled?"border: 1px solid #F88F6B;background-color:#F88F6B":"background-color:#9D9D9D;border: 1px solid #9D9D9D;",attrs:{slot:"button",size:"small",type:"primary"},on:{click:e.getCode},slot:"button"},[e._v(e._s(e.verifyText))])],1),e._v(" "),t("van-field",{attrs:{label:"推荐账号",placeholder:"推荐人手机号（选填）"},model:{value:e.recommendPhone,callback:function(o){e.recommendPhone=o},expression:"recommendPhone"}}),e._v(" "),t("div",{staticClass:"login-footer"},[t("van-checkbox",{attrs:{"checked-color":"#F88F6B"},model:{value:e.checked,callback:function(o){e.checked=o},expression:"checked"}},[e._v("我已阅读并同意"),t("span",{on:{click:function(o){e.showUseTip("1")}}},[e._v("《用户使用协议》")]),e._v("及"),t("span",{on:{click:function(o){e.showUseTip("2")}}},[e._v("《隐私权条款》")])])],1),e._v(" "),t("div",{staticClass:"btn"},[t("mt-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),t("p",[e._v("温馨提示：无需注册 输入手机号即可登录")])],1)],1)],1)},staticRenderFns:[]};var l=t("VU/8")(c,a,!1,function(e){t("YzOI"),t("Lge7")},"data-v-74be371a",null);o.default=l.exports}});
//# sourceMappingURL=22.ecfc8f2efee75014a2b5.js.map