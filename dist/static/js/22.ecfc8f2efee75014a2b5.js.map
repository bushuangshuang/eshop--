{"version":3,"sources":["webpack:///src/pages/index/login.vue","webpack:///./src/pages/index/login.vue?759a","webpack:///./src/pages/index/login.vue"],"names":["index_login","name","data","tittle","phone","verifyCode","recommendPhone","verifyText","codeDisabled","countdown","timer","checked","phoneerr","isphoneshow","components","Dialog","es","commonHeader","common_header","methods","isphone","console","log","test","this","back","$router","push","login","_this","tipErrorMsg","undefined","paramss","home_api","then","res","code","localStorage","setItem","list","username","realName","isAuth","goBack","Object","msg","catch","err","getCode","_this2","setInterval","clearInterval","params","showUseTip","status","tipCon","alert","message","pages_index_login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","showleft","showright","_v","label","placeholder","on","blur","$event","model","value","callback","$$v","expression","_s","_e","center","clearable","style","slot","size","type","click","checked-color","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/22.ecfc8f2efee75014a2b5.js","sourcesContent":["<template>\n    <div class=\"login-box\">\n      <common-header :tittle=\"tittle\" :showleft=\"true\" :showright=\"false\"></common-header>\n      <div class=\"login-content\">\n        <van-field v-model=\"phone\" label=\"手机号\" placeholder=\"请输入手机号\"  @blur=\"isphone(phone)\"/>\n          <span v-if=\"this.isphoneshow\" class=\"span\">{{this.phoneerr}}</span>\n        <van-field v-model=\"verifyCode\" center clearable label=\"验证码\" placeholder=\"请输入短信验证码\">\n          <van-button slot=\"button\" size=\"small\" type=\"primary\" @click=\"getCode\" :style=\"codeDisabled==false?'border: 1px solid #F88F6B;background-color:#F88F6B':'background-color:#9D9D9D;border: 1px solid #9D9D9D;'\">{{verifyText}}</van-button>\n        </van-field>\n        <van-field v-model=\"recommendPhone\" label=\"推荐账号\" placeholder=\"推荐人手机号（选填）\"  />\n        <div class=\"login-footer\">\n          <van-checkbox v-model=\"checked\" checked-color=\"#F88F6B\">我已阅读并同意<span @click=\"showUseTip('1')\">《用户使用协议》</span>及<span @click=\"showUseTip('2')\">《隐私权条款》</span></van-checkbox>\n        </div>\n        <div class=\"btn\">\n          <mt-button type=\"primary\" @click=\"login\">登录</mt-button>\n          <p>温馨提示：无需注册 输入手机号即可登录</p>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport * as homeApi from '../../api/home-api'\nimport {Dialog} from 'vant'\nimport {mapMutations, mapGetters, mapState} from 'vuex'\nimport { Toast } from 'vant'\nimport commonHeader from 'common/common-header'\nexport default { name: 'login',\n  data() {\n    return {\n      tittle: '登录',\n      phone: '',\n      verifyCode: '',\n      recommendPhone: '',\n      verifyText: '获取验证码',\n      codeDisabled: false,\n      countdown: 60,\n      timer: null,\n      checked: false,\n      phoneerr: '',\n      isphoneshow: false\n    }\n  },\n  components: {\n    Dialog,\n    commonHeader\n  },\n  methods: {\n    isphone(phone) {\n      console.log(phone)\n      var myreg = /^[1][3,4,5,6,7,8][0-9]{9}$/\n      if (myreg.test(phone) === false) {\n        this.phoneerr = '请输入正确的手机号'\n        this.isphoneshow = true\n      } else {\n        this.isphoneshow = false\n      }\n    },\n    back() {\n      this.$router.push('/home')\n    },\n    login() {\n      let tipErrorMsg = ''\n      if (this.phone==undefined || this.phone==null || this.phone=='') {\n        tipErrorMsg += '手机号不能为空  '\n      }\n      if (this.verifyCode==undefined || this.verifyCode==null || this.verifyCode=='') {\n        tipErrorMsg += '验证码不能为空'\n      }\n      if (tipErrorMsg != undefined && tipErrorMsg != null && tipErrorMsg != '') {\n        Toast(tipErrorMsg)\n        return\n      }\n      if (this.checked == false) {\n        Toast('请先阅读并同意《用户使用协议》及《隐私权条款》')\n        return\n      }\n      let paramss = {\n        phone: this.phone,\n        verifyCode: this.verifyCode,\n        recommendPhone: this.recommendPhone\n      }\n      homeApi.Login(paramss).then(res => {\n        console.log(res.data)\n        if (res.data.code === '200') {\n          localStorage.setItem('username', res.data.list.username)\n          localStorage.setItem('realName', res.data.list.realName)\n          localStorage.setItem('isAuth', res.data.list.isAuth)\n          localStorage.setItem('phone', this.phone)\n          this.$router.goBack()\n        } else {\n          Toast(res.data.msg)\n        }\n      }).catch(err => {\n        console.log(err)\n      })\n    },\n    getCode() {\n      if (this.phone === undefined || this.phone === null || this.phone === '') {\n        Toast('手机号码不能为空')\n        return\n      } else {\n        var myreg = /^[1][3,4,5,6,7,8][0-9]{9}$/\n        if (myreg.test(this.phone) === false) {\n          Toast('请输入正确的手机号')\n          return\n        }\n      }\n      if (!this.timer) {\n        this.timer = setInterval(() => {\n          if (this.countdown > 0 && this.countdown <= 60) {\n            this.countdown--\n            if (this.countdown !== 0) {\n              this.verifyText = '重新发送(' + this.countdown + ')'\n              this.codeDisabled = true\n            } else {\n              clearInterval(this.timer)\n              this.verifyText = '获取验证码'\n              this.countdown = 60\n              this.timer = null\n              this.codeDisabled = false\n            }\n          }\n        }, 1000)\n      }\n      if (this.codeDisabled==true) {\n        return\n      }\n      let params = {\n        phone: this.phone\n      }\n      homeApi.TestGetCode(params).then(res => {\n        console.log(res.data)\n        if (res.data.code == 200) {\n          Toast('短信发送成功')\n        } else {\n          Toast(res.data.msg)\n        }\n      }).catch((res) => {\n        Toast('发送失败，请重试或联系管理员！')\n      })\n    },\n    showUseTip(status) {\n      let tipCon = ''\n      if (status === '1') {\n        tipCon = '用户使用协议内容'\n      } else if (status === '2') {\n        tipCon = '隐私权条款内容'\n      }\n      Dialog.alert({\n        message: tipCon\n      }).then(() => {})\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n  @import \"~styles/index.less\";\n  @import \"~styles/variable.less\";\n  .login-box{\n    width: 100%;\n    height: auto;\n    background: #fff;\n    .login-header{\n      width: 100%;\n      height: 1.35rem;\n      border-bottom: 1px solid #F3F3F3;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      background: #fff;\n      .fs(35);\n      li{\n        padding-left: 0.2rem;\n        padding-right: 0.2rem;\n        img:nth-child(1){\n          width: 0.3rem;\n          height: 0.5rem;\n        }\n        img:nth-child(2){\n          width: 0.6rem;\n          height: 0.5rem;\n        }\n      }\n\n    }\n    .login-content{\n      .padding(0,30);\n      .span{\n\n        width: 100%;\n        color: red;\n        margin-left: -1.5rem;\n        /*text-align: center;*/\n      }\n      .van-field{\n        text-align: left;\n        .padding(0,10);\n        border: none;\n        line-height:45px;\n        .fs(30);\n      }\n      li{\n        text-align: left;\n        width: 90%;\n        margin: 0 auto;\n        border-bottom: 1px solid #F5F5F5;\n        span{\n          display: inline-block;\n          width: 2rem;\n          .fs(24);\n          height: 0.8rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 4px;\n        }\n      }\n    }\n    .btn{\n      .pl(30);\n      .pr(30);\n      .pb(40);\n      .mint-button--normal{\n        width: 100% !important;\n        background: #F9A88A;\n      }\n      p{\n        margin-top:0.3rem;\n        color: #9D9D9D;\n      }\n    }\n    .login-footer{\n      width: 100%;\n      margin: 0.5rem auto;\n      span{\n        color:#F88F6B;\n      }\n      .van-checkbox{\n        .fs(26);\n      }\n    }\n\n  }\n</style>\n<style type=\"text/css\">\n  .van-cell:not(:last-child)::after{\n    left: 0px;\n  }\n  .van-checkbox__icon, .van-checkbox__label{\n    line-height: 16px;\n  }\n  .van-checkbox__label{\n    margin-left: 6px;\n  }\n  .van-checkbox__icon .van-icon{\n    width: 15px;\n    height: 15px;\n    vertical-align: middle;\n    border: 1px solid #d9d9d9;\n    line-height: 14px;\n  }\n  .mint-cell:first-child .mint-cell-wrapper{\n    background-origin: content-box;\n  }\n  .mint-cell:last-child{\n    background-image: none;\n  }\n  .mint-cell-wrapper {\n    background-image: none;/*linear-gradient(180deg, #dedede, #dedede 50%, transparent 50%);*/\n    background-size: 100% 1px;\n    background-repeat: no-repeat;\n    background-position: bottom left;\n    background-origin: content-box;\n    -webkit-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    font-size: 16px;\n    line-height: 1;\n    min-height: inherit;\n    overflow: hidden;\n    width: 100%;\n    padding:0px 4px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-box\"},[_c('common-header',{attrs:{\"tittle\":_vm.tittle,\"showleft\":true,\"showright\":false}}),_vm._v(\" \"),_c('div',{staticClass:\"login-content\"},[_c('van-field',{attrs:{\"label\":\"手机号\",\"placeholder\":\"请输入手机号\"},on:{\"blur\":function($event){_vm.isphone(_vm.phone)}},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),(this.isphoneshow)?_c('span',{staticClass:\"span\"},[_vm._v(_vm._s(this.phoneerr))]):_vm._e(),_vm._v(\" \"),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":\"验证码\",\"placeholder\":\"请输入短信验证码\"},model:{value:(_vm.verifyCode),callback:function ($$v) {_vm.verifyCode=$$v},expression:\"verifyCode\"}},[_c('van-button',{style:(_vm.codeDisabled==false?'border: 1px solid #F88F6B;background-color:#F88F6B':'background-color:#9D9D9D;border: 1px solid #9D9D9D;'),attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.getCode},slot:\"button\"},[_vm._v(_vm._s(_vm.verifyText))])],1),_vm._v(\" \"),_c('van-field',{attrs:{\"label\":\"推荐账号\",\"placeholder\":\"推荐人手机号（选填）\"},model:{value:(_vm.recommendPhone),callback:function ($$v) {_vm.recommendPhone=$$v},expression:\"recommendPhone\"}}),_vm._v(\" \"),_c('div',{staticClass:\"login-footer\"},[_c('van-checkbox',{attrs:{\"checked-color\":\"#F88F6B\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"我已阅读并同意\"),_c('span',{on:{\"click\":function($event){_vm.showUseTip('1')}}},[_vm._v(\"《用户使用协议》\")]),_vm._v(\"及\"),_c('span',{on:{\"click\":function($event){_vm.showUseTip('2')}}},[_vm._v(\"《隐私权条款》\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('mt-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('p',[_vm._v(\"温馨提示：无需注册 输入手机号即可登录\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74be371a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74be371a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74be371a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74be371a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74be371a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}