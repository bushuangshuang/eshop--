webpackJsonp([1],{FSJ4:function(t,e){},TnZw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("fqE/"),o=n("Fd2+"),s=n("0Mti"),i={name:"out",components:{commonHeader:a.a},data:function(){return{tittle:"设置",routerLeft:"/day",username:"",tel:"",showFriend:!1,version:!1,isshow:!1,photo:this.$route.params.urll,imgFileUrl:s.c,phoneisShow:!1,phone:localStorage.getItem("partnerPhone")}},mounted:function(){console.log(this.$route.params.urll)},methods:{UpPackage:function(){var t=null;function e(){plus.runtime.getProperty(plus.runtime.appid,function(e){t=e.version,alert("当前应用版本："+t)})}window.plus?e():document.addEventListener("plusready",e,!1);var n="";!function(){alert("检测更新"),plus.nativeUI.showWaiting("检测更新...");var e=new XMLHttpRequest;e.onreadystatechange=function(){switch(e.readyState){case 4:if(plus.nativeUI.closeWaiting(),200===e.status){alert("检测更新成功："+e.responseText);var n=e.responseText;t&&n&&t!==n?(plus.nativeUI.showWaiting("下载wgt文件..."),plus.downloader.createDownload(a,{filename:"_doc/update/"},function(t,e){var n;200===e?(alert("下载wgt成功："+t.filename),n=t.filename,plus.nativeUI.showWaiting("安装wgt文件..."),plus.runtime.install(n,{},function(){plus.nativeUI.closeWaiting(),alert("安装wgt文件成功！"),plus.nativeUI.alert("应用资源更新完成！",function(){plus.runtime.restart()})},function(t){plus.nativeUI.closeWaiting(),console.log("安装wgt文件失败["+t.code+"]："+t.message),plus.nativeUI.alert("安装wgt文件失败["+t.code+"]："+t.message)})):(alert("下载wgt失败！"),plus.nativeUI.alert("下载wgt失败！")),plus.nativeUI.closeWaiting()}).start()):plus.nativeUI.alert("无新版本可更新！")}else alert("检测更新失败！"),plus.nativeUI.alert("检测更新失败！")}},e.open("GET",n),e.send()}();var a="http://服务器域名/文件夹/mananger_tool/update/update.wgt"},close:function(){this.isshow=!1},checkversion:function(t){1===t?o.a.confirm({title:"已是最新版本",message:"1.1.1.1"}).then(function(){}).catch(function(){}):this.isshow=!0},contact:function(){this.phoneisShow=!0},feedback:function(){this.$router.push("/index/out/feedback")},about:function(){this.$router.push("/index/out/about")},AccountSetting:function(t){this.$router.push({path:"/index/out/Account",name:"AccountSetting",params:{photo:t}})},invite:function(){localStorage.getItem("username")&&(this.showFriend=!0)},beforeClose:function(t,e){if("confirm"===t){if(!this.username||!this.tel)return Object(o.d)("请输入姓名或手机号"),void e(!1);if(!/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.tel))return Object(o.d)("手机号格式错误"),void e(!1)}else"cancel"===t&&(this.username="",this.tel="",e())}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"out-box"},[a("common-header",{attrs:{tittle:t.tittle,showleft:!0,routerLeft:t.routerLeft}}),t._v(" "),a("div",{staticClass:"out-one"},[a("li",{on:{click:function(e){t.AccountSetting(t.photo)}}},[a("span",[t._v("账号设置")]),a("img",{attrs:{src:t.imgFileUrl+t.photo,alt:""}}),a("van-icon",{attrs:{name:"arrow"}})],1),t._v(" "),a("li",{on:{click:t.invite}},[a("span",[t._v("邀请好友")]),a("van-icon",{attrs:{name:"arrow"}})],1)]),t._v(" "),a("div",{staticClass:"out-one"},[a("li",{on:{click:t.feedback}},[a("span",[t._v("帮助与反馈")]),a("van-icon",{attrs:{name:"arrow"}})],1),t._v(" "),a("li",{on:{click:t.about}},[a("span",[t._v("关于我们")]),a("van-icon",{attrs:{name:"arrow"}})],1),t._v(" "),a("li",{on:{click:t.contact}},[a("span",[t._v("联系客服")]),a("van-icon",{attrs:{name:"arrow"}})],1)]),t._v(" "),a("div",{staticClass:"out-one"},[a("li",{on:{click:t.UpPackage}},[a("span",[t._v("检查版本与更新")]),a("van-icon",{attrs:{name:"arrow"}})],1),t._v(" "),a("li",[a("span",[t._v("清除缓存")]),a("span",[t._v("2.2M")]),a("van-icon",{attrs:{name:"arrow"}})],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:this.isshow,expression:"this.isshow"}],staticClass:"newversion"},[a("img",{attrs:{src:n("X5Rf"),alt:""}}),t._v(" "),a("van-icon",{staticClass:"close",attrs:{name:"close"},on:{click:t.close}}),t._v(" "),a("van-button",{staticClass:"checkbtn",attrs:{type:"primary"}},[t._v("更新")])],1),t._v(" "),a("van-dialog",{attrs:{"show-cancel-button":"","before-close":t.beforeClose,"confirm-button-text":"发送"},model:{value:t.showFriend,callback:function(e){t.showFriend=e},expression:"showFriend"}},[a("van-field",{staticClass:"dialog-inp",attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),a("van-field",{staticClass:"dialog-inp",attrs:{type:"phone",label:"手机号",placeholder:"请输入手机号"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}})],1),t._v(" "),a("van-dialog",{attrs:{"show-cancel-button":"","before-close":t.beforeClose,"confirm-button-text":"确定"},model:{value:t.phoneisShow,callback:function(e){t.phoneisShow=e},expression:"phoneisShow"}},[a("van-field",{staticClass:"dialog-inp",attrs:{label:"手机号"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)],1)},staticRenderFns:[]};var r=n("VU/8")(i,l,!1,function(t){n("FSJ4")},"data-v-49345d04",null);e.default=r.exports},X5Rf:function(t,e,n){t.exports=n.p+"static/img/newversion.7476804.png"}});
//# sourceMappingURL=1.5b3e55a620aa138998cc.js.map