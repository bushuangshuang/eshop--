webpackJsonp([42],{"1e7i":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("mvHQ"),r=o.n(a),n=o("fqE/"),s=o("PNIw"),i=o("Fd2+"),c={components:{commonHeader:n.a,Toast:i.d,Dialog:i.a},name:"Vehicleevaluation",data:function(){return{tittle:"车辆评估",routerLeft:"/garage",verifyText:"获取验证码",codeDisabled:!1,countdown:60,areaAndTypeShow:!1,form:{carId:"",carName:"",phone:"",verifiedCode:"",result:[],checked:!1},carList:[],checkBoxList:[{value:"1",label:"保养记录"},{value:"2",label:"维修记录"}]}},mounted:function(){this.getCarList()},methods:{getCarList:function(){var e=this;s.q({pageNumber:1,pageSize:1e4}).then(function(t){if("200"===t.data.code){var o=[];t.data.page.list.forEach(function(e){var t={text:e.carLicence,value:e.carProductCd};o.push(t)}),e.carList=o}else Object(i.d)(t.data.msg)})},selAddress:function(){this.areaAndTypeShow=!0},onConfirmCar:function(e){this.areaAndTypeShow=!1,this.form.carName=e.text,this.form.carId=e.value},cancelCar:function(){this.areaAndTypeShow=!1},getCode:function(){var e=this;if(void 0!==this.form.phone&&null!==this.form.phone&&""!==this.form.phone){if(!1!==/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.form.phone)){if(this.timer||(this.timer=setInterval(function(){e.countdown>0&&e.countdown<=60&&(e.countdown--,0!==e.countdown?(e.verifyText="重新发送("+e.countdown+")",e.codeDisabled=!0):(clearInterval(e.timer),e.verifyText="获取验证码",e.countdown=60,e.timer=null,e.codeDisabled=!1))},1e3)),!0!==this.codeDisabled){var t={phone:this.form.phone};s.f(t).then(function(e){console.log(e.data),"200"===e.data.code?Object(i.d)("短信发送成功"):Object(i.d)(e.data.msg)}).catch(function(e){Object(i.d)("发送失败，请重试或联系管理员！")})}}else Object(i.d)("请输入正确的手机号")}else Object(i.d)("手机号码不能为空")},generatingReports:function(){var e="";if(void 0!==this.form.carName&&null!==this.form.carName&&""!==this.form.carName||(e+="车辆不能为空\n"),void 0===this.form.phone||null===this.form.phone||""===this.form.phone)e+="手机号不能为空\n";else{!1===/^[1][3,4,5,6,7,8][0-9]{9}$/.test(this.form.phone)&&(e+="请输入正确的手机号\n")}if(void 0!==this.form.verifiedCode&&null!==this.form.verifiedCode&&""!==this.form.verifiedCode||(e+="验证码不能为空\n"),0===this.form.result.length&&(e+="关联项不能为空\n"),void 0===e||null===e||""===e)if(!1!==this.form.checked){var t={carName:this.form.carName,phone:this.form.phone,verifiedCode:this.form.verifiedCode};console.log("data=="+r()(t)),console.log("result=="+r()(this.form.result))}else Object(i.d)("请先选择评估声明");else Object(i.d)(e)}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"Vehicleevaluation-box"},[o("common-header",{attrs:{tittle:e.tittle,showleft:!0,routerLeft:e.routerLeft}}),e._v(" "),o("div",{staticClass:"vehicle-list"},[o("van-cell-group",[o("div",{staticClass:"address-box"},[o("van-field",{attrs:{required:"",clearable:"",label:"选择车辆",placeholder:"请选择车辆"},on:{click:e.selAddress},model:{value:e.form.carName,callback:function(t){e.$set(e.form,"carName",t)},expression:"form.carName"}}),e._v(" "),o("span",{staticClass:"selectStyle",on:{click:e.selAddress}},[e._v("选择")])],1),e._v(" "),o("van-field",{attrs:{required:"",label:"手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),e._v(" "),o("van-field",{attrs:{required:"",clearable:"",label:"验证码",placeholder:"请输入验证码"},model:{value:e.form.verifiedCode,callback:function(t){e.$set(e.form,"verifiedCode",t)},expression:"form.verifiedCode"}},[o("van-button",{style:0==e.codeDisabled?"border: 1px solid #F88F6B;background-color:#F88F6B":"background-color:#9D9D9D;border: 1px solid #9D9D9D;",attrs:{slot:"button",size:"small",type:"primary"},on:{click:e.getCode},slot:"button"},[e._v(e._s(e.verifyText))])],1),e._v(" "),o("div",{staticClass:"checkboxLabel"},[o("span",{staticClass:"red-star"},[e._v("*")]),e._v("关联项")]),e._v(" "),o("van-checkbox-group",{attrs:{required:""},model:{value:e.form.result,callback:function(t){e.$set(e.form,"result",t)},expression:"form.result"}},e._l(e.checkBoxList,function(t,a){return o("van-checkbox",{key:a,attrs:{name:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])}))],1),e._v(" "),o("div",{staticClass:"login-footer"},[o("van-checkbox",{staticClass:"checkRadio",attrs:{"checked-color":"#07c160","icon-size":"10px"},model:{value:e.form.checked,callback:function(t){e.$set(e.form,"checked",t)},expression:"form.checked"}},[e._v("评估声明")])],1)],1),e._v(" "),o("van-popup",{attrs:{position:"bottom",overlay:!0},model:{value:e.areaAndTypeShow,callback:function(t){e.areaAndTypeShow=t},expression:"areaAndTypeShow"}},[o("van-picker",{attrs:{columns:e.carList,"show-toolbar":""},on:{cancel:e.cancelCar,confirm:e.onConfirmCar},model:{value:e.form.carId,callback:function(t){e.$set(e.form,"carId",t)},expression:"form.carId"}})],1),e._v(" "),o("li",{staticClass:"btn"},[o("van-button",{attrs:{type:"default"},on:{click:e.generatingReports}},[e._v("生成报告")])],1),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"EvaluationList"},[o("li",[o("span",[e._v("评估时间")]),e._v(" "),o("span",[e._v("文件名称")]),e._v(" "),o("span",[e._v("状态")])]),e._v(" "),o("li",[o("span",[e._v("2019-05-01")]),e._v(" "),o("span",[e._v("LS5A3CJC2JF980.pdf")]),e._v(" "),o("span",[e._v("评估中")])]),e._v(" "),o("li",[o("span",[e._v("2019-05-01")]),e._v(" "),o("span",[e._v("LS5A3CJC2JF980.pdf")]),e._v(" "),o("span",[e._v("评估中")])]),e._v(" "),o("li",[o("span",[e._v("2019-05-01")]),e._v(" "),o("span",[e._v("LS5A3CJC2JF980.pdf")]),e._v(" "),o("span",[e._v("评估中")])])])}]};var d=o("VU/8")(c,l,!1,function(e){o("iunF")},"data-v-1afb0998",null);t.default=d.exports},iunF:function(e,t){}});
//# sourceMappingURL=42.54dc5ebd9960df90bb06.js.map